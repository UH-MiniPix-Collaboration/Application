\subsection{RESU Design}
\label{sec:RESU-Design}

For this mission, it will be necessary to build a flight computer that can manage flight operations as well as send and receive serial uplink and downlink packets.  This was the motivation for the development of a Real-Time Environmental Sensing Unit (RESU). RESU is composed of two components: a Raspberry Pi 3 (RP3) and an Arduino Mega (Arduino) which interfaced over serial USB.  The RP3 and Arduino both are hobby electronic computers, but the RP3 is geared towards recording and processing while the Arduino is more efficient at sensor integration.  The Arduino's primary purpose was to collected data from various sensors that monitored environmental conditions. It also handled telemetry, periodically downlinking packets and accepting uplink commands received from the ground. The RP3 recorded data from the Arduino's serial port and saved data frames every six seconds from the MiniPIX.  Table~\ref{tab:Sensors} lists the various sensors utilized during the flight.

\begin{table}[h!]
\centering
\caption{Table of sensors that compose RESU}
\label{tab:Sensors}
\bigskip
\begin{tabular}{|c|c|c|c|}
\hline
\multicolumn{1}{|c|}{\bfseries Sensor} & {\bfseries Quantity} & {\bfseries Platform} & {\bfseries Purpose} \\
\hline
    Temperature Sensors (TMP 36)	& 3 & Arduino  		& Record temperature measurements  \\ \hline
    Pressure        				& 1 & Arduino 		& Record pressure measurements \\ \hline
    BNO 6055       					& 1 & Arduino 		& Record IMU Data in 9 degrees of freedom \\ \hline    
    Real Time Clock 				& 2 & Arduino/RP3 	& Record temperature compensated timestamps in CT \\\hline
    Humidity        				& 1 & Arduino 		& Record atmospheric humidity levels \\ \hline
    GPS     						& 1 & Arduino 		& Determine latitude, longitude, altitude and direction \\ \hline
    MiniPIX         				& 1 & RP3     		& Cosmic ray detector \\ \hline
\end{tabular}
\end{table}

\subsubsection{Electronics Design}
Since much of the space inside of our payload was taken up by the pump and clean box from the astrobiology systems we had to design our electronics to be relatively compact.  It was decided that we would only use one RP3 to both interface with MiniPIX and store sensor data from the Arduino, rather than having one for each system as was planned originally.  Also, in order to reduce the space required for the interface between the Arduino and all of the payload's sensors, we used two layers of proto shields to more effectively utilize vertical space.  The RTC, pressure, humidity, and inertial measurement sensors were all mounted directly on the first shield while the temperature and GPS sensors were mounted on to the top most shield. 

\subsubsection{Telemetry}
RESU was designed to handle every component of the mission.  It was also in charge of all  telemetry to and from the HASP systems.  Downlinked packets provided timestamped readings from all the payload's sensors which helped us analyze the current state of our payload.  RESU also was programmed to receive four uplink commands: heaters on/off and pumps on/off.  These commands were sent at our discretion which allowed us to manage our collection systems at any given point during the flight based on environmental and component temperatures. 
